---
title: 生成空间权重矩阵
---

　　用于构建空间权重矩阵文件(*.swmb)，用表示数据集中各要素之间的空间关系。

### 　　分析说明

- 空间权重矩阵文件旨在生成、存储、重用和共享一组要素之间关系的空间关系概念化模型。文件采用的是二进制文件格式创建,要素关系存储为稀疏矩阵。
- 根据指定的分析模式来构建空间权重矩阵。



### 　　操作说明

　　Cross 提供了两个功能入口，如下所述：

- 在“空间分析”选项卡的“空间统计分析”组中，单击“生成空间权重矩阵文件”，即可弹出“生成空间权重矩阵文件”对话框。
- 在“可视化建模”选项卡中单击“新建”调出“工具箱”，双击“空间统计分析”→“生成空间权重矩阵文件”，即可弹出“生成空间权重矩阵文件”对话框。

### 　　主要参数

- **源数据**：设置用于生成空间权重矩阵文件的数据集，支持点、线、面三种类型的数据集。
- **评估字段**：将分析要素分类别的字段，分类后每一组的对象分别会有一个中心要素，分组字段可以是整型、日期型或字符串类型。若分组字段中我字段值为空，则会将该要素从分析中排除。
- **概念化模型**：选择的模型需反映分析要素之间的固有关系，设置要素在空间中彼此交互方式构建的模型越逼真，结果就越准确。
  - 固定距离模型：适用于点数据、及面大小变化较大的面数据。
  - 面邻接模型(共边、相交)：适用于存在相邻边、相交的面数据。
  - 面邻接模型(邻接点、共边、相交)：适用于有邻接点、相邻边、相交的面数据。
  - 反距离模型：所有要素均被视为所有其他要素的相邻要素，所有要素都会影响目标要素，但是随着距离的增加，影响会越小，要素之间的权重为距离分之一，适用于连续数据。
  - 反距离平方模型：与"反距离模型"相似,随着距离的增加，影响下降的更快，要素之间的权重为距离的平方分之一。
  - K最邻近模型：距目标要素最近的K个要素包含在目标要素的计算中（权重为1）,其余的要素将会排除在目标要素计算之外（权重为0）。如果想要确保具有一个用于分析的最小相邻要素数，该选项非常有效。当数据的分布在研究区域上存在变化以致于某些要素远离其他所有要素时，该方法十分适用。当固定分析的比例不如固定相邻对象数目重要时，K 最近邻方法较适合。
  - 空间权重矩阵：需要提供空间权重矩阵文件，空间权重是反映数据集中每个要素和其他任何一个要素之间的距离、时间或其他成本的数字。如果要对城市服务的访问性进行建模，例如要查找城市犯罪集中的地区，借助网络对空间关系进行建模是一个好办法。分析之前使用生成网络空间权重工具创建一个空间权重矩阵文件 (.swm)，然后指定提供所创建的 SWM 文件的完整路径。
  - 无差别区域模型：该模型是"反距离模型"和"固定距离模型"的结合，会将每个要素视为其他各个要素的相邻要素，该选项不适合大型数据集，在指定的固定距离范围内的要素具有相等的权重（权重为1）；在指定的固定距离范围之外的要素,随着距离的增加，影响会越小。
- **中断距离容限**："-1"表示计算并应用默认距离，此默认值为保证每个要素至少有一个相邻的要素；"0"表示为未应用任何距离，则每个要素都是相邻要素。非零正值表示当要素间的距离小于此值时为相邻要素。
- **反距离幂指数**：控制距离值的重要性的指数，幂值越高，远数的影响会越小。
- **相邻要素数目**：设置一个正整数，表示目标要素周围最近的K个要素为相邻要素。
- **距离计算方法**：目前支持欧式距离的计算方式，即两要素间的直线距离。
- **空间权重矩阵标准化**：若进行标准化，则每个权重都会除以该行的和。当要素的分布由于采样设计或施加的聚合方案而可能偏离时，建议使用行标准化。
- **文件路径**：设置空间权重矩阵文件输出路径和保存名称。


