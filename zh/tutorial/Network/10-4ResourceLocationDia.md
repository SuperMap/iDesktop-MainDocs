---
id: 10-4ResourceLocationDia
title: 资源分配
---
### ![](../img/read.gif) 使用说明

资源分配可根据资源中心的资源供应量和弧段、结点对该资源的需求量进行资源分配分析，以确定各资源中心为哪些资源需求对象（结点、弧段）提供服务。

### ![](../img/read.gif) 操作步骤

1. 打开需要进行分析的网络数据集。
2. 在“ **交通分析** ”选项卡的“ **路网分析** ”组中，选中“ **环境设置** ”复选框，弹出“ **环境设置** ”窗口。在此窗口中设置网络分析的基本参数（如权重字段、结点/弧段标识字段等）、分析结果参数以及追踪分析的参数（仅在进行追踪分析时需要进行设置）。关于环境设置窗口的介绍，请参见[网络分析环境设置窗口](NetAnalystEnvironmentWIN)。
3. 新建资源分配的实例。在“ **交通分析** ”选项卡的“ **路网分析** ”组中，单击gallery下拉按钮，在弹出的下拉框中选择“ **资源分配** ”项。成功创建后，会自动弹出实例管理窗口。且地图窗口中的鼠标状态变为绘制状态，用来添加中心点。
4. 在当前网络图层中添加中心点。中心点又叫资源中心供给点，是提供资源和服务的设施点。添加中心点有两种方式，一种是在网络图层中通过鼠标绘制的方式完成中心点的添加；另外一种是在中心点管理窗口中，将点数据集导入作为中心点。 
  * **鼠标添加中心点**<br/>在实例管理窗口的工具条中，单击“鼠标添加”按钮，此时地图窗口中鼠标绘制状态，可在地图窗口中合适的位置单击鼠标添加站点。每添加一次中心点，该点会自动添加到实例管理窗口的中心点信息中。添加完成后，单击鼠标右键结束操作。<br/>**注意** ：需要设置合适的结点捕捉容限。如果鼠标点击位置超出结点捕捉容限，则可能导致站点添加失败。
  * **导入中心点**<br/>将当前工作空间中的点数据集导入作为中心点。在“实例管理”窗口中的目录树中，选择“中心点”结点，在右键菜单中选择“中心点管理”项，打开“中心点管理”窗口。在该对话框中通过导入命令，导入中心点，并进行参数设置。关于“中心点管理”窗口的介绍内容，请参见[中心点管理](CentersManagement)窗口。<br/>**注意**：若需要删除某个中心点，可选中该中心点，在弹出的右键菜单中选择“移除”或者选中要删除的中心点按住 Delete 键即可。
5. 在网络分析实例管理窗口中，单击“参数设置”按钮，弹出“ **资源分配参数设置** ”，对资源分配参数进行设置。 
  * **资源分配模式** ：
    * 结点和弧段需求：在该模式下分析时，既考虑结点的需求也考虑弧段的需求。
    * 结点需求：在该模式下分析时，只考虑结点对资源的需求量，将弧段的需求排除。
    * 弧段需求：在该模式下分析时，只考虑弧段对资源的需求量，将结点的需求排除。
  * **结点需求字段** ：单击右侧下拉按钮，选择一个字段作为结点需求字段。此选项仅在资源分配模式选取结点需求或者结点和弧段需求时才可用。 
  * **弧段需求字段** ：单击右侧下拉按钮，选择一个字段作为弧段需求字段。此选项仅在资源分配模式选取弧段需求或者结点和弧段需求时才可用。
  * **允许穿越** ：进行资源分配分析过程中，允许某个中心点的资源穿越其他已完成资源分配的中心点的服务范围而继续将自己的资源分配给需求对象。选择此项则支持此分配方式。如果不选择此项，则在某个中心点的资源分配过程中，遇到已经被分配给其他中心的区域则停止分配，这样就可能有多余的资源堆积在该资源中心点。
  * **从中心点开始分配** ：在进行网络分析时，可以从中心点开始计算，也可以从需求的对象（结点、弧段）开始计算，两种计算方式会产生不同的分析结果。勾选该复选框，则表示从资源中心店开始分配；未勾选该复选框，则表示从需求的结点或弧段对象开始计算。
6. 所有参数设置完毕后，在“ **路网分析** ”组中或者实例管理窗口中单击“ **执行** ”按钮，进行分析。分析结果会即时显示在地图窗口中。分析结果可以保存为数据集，以便在其他地方使用，结果数据有以下三种： 
  * **结果路由** ：该路由数据为各个资源中心点到需求点的分配路径，可以路由数据集的形式保存下来。
  * **中心点分配点** ：即某中心点可分配到的需求点，可将其以CAD数据集保存下来。生成的 CAD 数据集属性表的CenterID和CenterName字段，记录了分配资源给需求点的中心点ID和名称。仅当资源分配模式选择结点需求或者结点和弧段需求时，才会生成中心点分配点结果。
  * **中心点分配弧段** ：即某中心点可分配到的需求弧段，可将其以CAD数据集保存下来。生成的 CAD 数据集属性表的CenterID和CenterName字段，记录了分配资源给需求弧段的中心点ID和名称。仅当资源分配模式选择弧段需求或者结点和弧段需求时，才会生成中心点分配弧段结果。

### ![](../img/note.png) 注意事项

* 资源分配中心点类型必须为固定中心，才会参与分析，且只能由固定中心点作为提供资源的点。非中心能像普通结点那样被分配到资源；非中心也可以有资源量，能够通过中心点管理，把非中心变为固定中心点，这样该点便能作为提供资源的点了；资源分配中，不支持设置为可选中心点。在“实例管理”窗口中单击某中心点右键，选择“[中心点管理](CentersManagement)”，可在弹出对话框中设置中心点为固定中心点或非中心。
* 用于资源分配的中心点必须位于网络中的结点上，否则没有办法添加到网络图层中。

###  相关主题

[选址分区概述](10-1FindLocation)

[选址分区](10-2FindLocationDia)