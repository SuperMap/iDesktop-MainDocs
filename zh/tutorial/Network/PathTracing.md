---
id: PathTracing
title: 最短路径追踪分析
---
### ![](../img/read.gif)使用说明

根据网络的走向，查找任意两个起始结点/弧段到终止结点/弧段之间弧段数最少的路径。在进行最短路径追踪分析时，环路无效。

### ![](../img/read.gif)操作步骤

1. 打开用于网络分析的网络数据集。
2. 在“ **空间分析** ”选项卡的“ **设施网络分析** ”组中，选中“ **环境设置** ”复选框，弹出“ **环境设置** ”窗口。在此窗口中设置网络分析基本参数（如权重字段、结点/弧段标识字段等)、分析结果参数以及追踪分析的流向字段等。关于环境设置窗口的介绍，请参见[网络分析环境设置窗口](NetAnalystEnvironmentWIN)页面。
3. 新建一个最短路径追踪分析的实例。在“ **空间分析** ”选项卡的“ **设施网络分析** ”组中，单击“ **网络分析** ”下拉按钮，在弹出的下拉菜单中选择“ **最短路径追踪分析** ”项。成功创建实例后，会自动弹出实例管理窗口。关于实例管理窗口的介绍，请参见[实例管理窗口](InstanceWIN)页面。
4. 在网络分析实例管理窗口中单击“参数设置”按钮 ，弹出“最短路径追踪分析设置”对话框，对分析参数进行设置。 
  * **要素类型** ：单击“要素类型”下拉箭头，选择要分析的要素类型。支持结点和弧段两种类型。当要素类型为结点时，表示选择网络结点作为分析要素；否则选择弧段作为分析要素。当要素类型为弧段时，实例管理窗口中右键菜单将不支持导入和导出功能。
  * **起始标识** ：起点或起始弧段的标识字段值。与环境设置窗口中的结点标识字段和弧段标识字段对应。关于环境设置窗口请参见[网络分析环境设置窗口](NetAnalystEnvironmentWIN)页面。
  * **终止标识** ：终点或终止弧段的标识字段值。与环境设置窗口中的结点标识字段和弧段标识字段对应。关于环境设置窗口请参见[网络分析环境设置窗口](NetAnalystEnvironmentWIN)页面。 <br/>当分析类型为“任意两点/弧段间最短路径”时，需要分别设置起始结点/弧段、终止结点/弧段。追踪上游/下游最短路径分析只需要设置起始结点/弧段即可。
  * **分析类型** ：提供三种分析类型：关于每种分析类型的介绍，请参见[最短路径追踪分析的分析类型](PathTracingType)页面。 
    * **任意两要素间最短路径**：根据设定起始结点/弧段，查找其间耗费最少的路径。对于结点要素，其分析类型选择“任意两点间最短路径”；对于弧段要素，分析类型选择“任意两弧段间最短路径”。
    * **上游最短路径追踪** ：根据给定的结点/弧段，查询该结点或弧段上游耗费最少的路径。
    * **下游最短路径追踪** ：更加给定的结点/弧段，查询该结点或弧段下游耗费最少的路径。
  * **环路有效** ：设置分析的时候，网络环路是否参与分析。选中该项，表示环路参与追踪分析，否则不参与。
5. 参数设置完毕后，单击“确定”按钮，退出“最短路径追踪分析设置”对话框。
6. 在当前网络图层中添加结点或者弧段。根据上一步设置的要素类型和分析类型，添加起始结点/弧段，终止结点/弧段。添加结点与交通网络分析中添加站点的方式类似，即可以用鼠标添加，也可以通过导入的方式添加。添加弧段只能通过鼠标绘制的方式添加，具体操作请参见[添加站点](ImportLocations)页面。<br/>注意：若需要删除某个结点，可在实例管理窗口中选中“结点”目录结点，在弹出的右键菜单中选择“移除”或者选中要删除的结点按住 Delete 键即可。
7. 所有参数设置完毕后，单击" **空间分析** "选项卡中" **设施网络分析** "组的" **执行** "按钮或者实例管理窗口中的“ **执行** ”按钮，进行分析。分析结果会即时显示在地图窗口中。分析结果可以保存为数据集，以便在其他地方使用。
