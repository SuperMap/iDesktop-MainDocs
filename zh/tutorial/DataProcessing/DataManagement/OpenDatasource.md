---
id: OpenDatasource
title: 打开数据源
---
### ![](../../img/read.gif)使用说明

支持打开的数据源类型分文件型数据源、数据库型数据源、Web
数据源三类。有关各类型数据源的特点和适用场景，请参见[数据源及数据引擎类型](EngineType.htm)。

提供三种方式打开数据源：

  * 在“文件“菜单中单击“打开”按钮，提供打开不同类型的数据源的入口。
  * “开始”选项卡“数据源”组提供“文件”、“数据库”和“ Web 型”三个按钮以打开不同类型的数据源。
  * 在工作空间管理器中数据源节点单击右键，可在右键菜单中选择打开不同类型的数据源。 

### ![](../../img/read.gif)打开文件型数据源

  1. 以上述任一方式执行打开操作，会弹出“打开文件型数据源”对话框。 
  2. 在“打开文件型数据源”对话框中，选择要打开的文件型数据源文件。 支持打开的文件型数据源可以是 （*.udb） 文件、（*.udbx） 文件，同时还支持打开外部影像文件和矢量文件。
    * **空间数据引擎型** ：包括 UDBX(*.udbx)、SpatiaLite(*.sqlite)文件和 GeoPackage(*.gpkg)，SpatiaLite 是 UDBX 的原生数据库，GeoPackage 为 SQLite 数据库中的空间数据。
    * **影像文件类型** ：*.sit、*.bmp、*.jpg、*.jpeg、*.png、*.tif、*.tiff、*.img、*.sci、*.gif、*.gci、*.sct、*.xml、*.ecw、*.sid、*.bil、*.jp2、*.j2k、*.EGC、*.tpk等格式。   
    *.tpk 是 ArcGIS 生成的地图切片包，即将地图生成切片，并将切片进行打包创建成为单个压缩的 .tpk 文件。 
    工作空间对于作为数据源打开的影像数据文件的管理方式为，在工作空间中建立一个与影像数据文件同名的数据源，影像数据文件则为该数据源中的影像数据集。因此，当将影像数据文件作为数据源打开后，工作空间管理器中将增加一个数据源结点，结点的显示名称与影像数据文件的文件名称相同，打开的影像文件作为影像数据集添加到这个数据源结点下。需要特别注意，单波段16位和32位浮点型的影像文件，直接打开后为栅格数据集。 
    * **矢量文件类型** ：包括 *.shp、*.mif、*.tab、*.dwg、*.dxf、*.dgn、*.e00 、*sde、*.kml、*.kmz、*.gml、*.wal、*.wan、*.wap、*.wat、*.csv等格式。  
    工作空间对于作为数据源打开的外部矢量文件的管理方式为，在工作空间中建立一个与外部矢量文件同名的数据源，外部矢量文件则为该数据源中的CAD数据集。因此，当将外部矢量文件作为数据源打开后，工作空间管理器中将增加一个数据源结点，结点的显示名称与外部矢量文件的文件名称相同，打开的矢量文件作为 CAD 数据集添加到这个数据源结点下。 

### ![](../../img/read.gif)打开数据库型数据源

目前桌面产品支持打开 Oracle Plus、Oracle Spatial、SQL
Plus、PostgreSQL、DB2、KingBase、MySQL、BeyonDB、HighGoDB、KDB、SinoDB、PostGIS 和
MongoDB 等十余种数据库型数据源。

  1. 以上述任一方式执行打开操作，会弹出“打开数据库型数据源”对话框。
  2. 在“打开数据库型数据源”对话框中，可在左侧数据库类型列表中切换数据库类型，在右侧输入要打开的数据源的必要信息。针对不同数据库类型参数设置各有不同，下表将分别介绍打开不同类型的数据库型数据源所需设置的参数及其注意事项： 

注：应用程序会自动保存连接过的数据库地址，用户后续登录时可选择历史记录实现快速登录。

序号 | 数据库类型 | 实例名称 | 服务器名称 | 数据库名称 | 用户名称/密码 | 最大连接池 | 支持版本 | 注意事项  
---|---|---|---|---|---|---|---|---  
1  | **OraclePlus** | √ | × | 可选填 | √ | √ | 9i/10g/11g/12c版本 |必须有客户端，环境变量配置正确，有两种与服务端连接方式，第一种是进行客户端配置，保证客户端通过实例可以连接服务端，第二种可以通过 easy connect naming method方式连接，实例名的格式host[:port][/service_name]  
2 | **OracleSpatial** | √ | × | 可选填 | √ | × | 推荐使用10g与11g、12c |必须有客户端，环境变量配置正确，有两种与服务端连接方式，第一种是进行客户端配置，保证客户端通过实例可以连接服务端，第二种可以通过 easy connect naming method方式连接，实例名的格式host[:port][/service_name]。  
3  | **SQLPlus** | × | √ | √ | √ | × | 2000/2005/2008/2012/2016 |必须有客户端，环境变量配置正确。  
4 | **MySQL** | × | √ | √ | √ | × | 5.6.16及以上版本 |远程服务端必须保证本机有访问权限，如果没有权限可以参考语句grant all privileges on *.* to user@'%' identified by pwd; flush privileges,其中%可以换成具体的IP。  
5  |**[PostgreSQL](../../TechDocument/PostgreSQLUseGuide/PostgreSQLGuide.htm)** |× | √ | √ | √ | √ | 9.6及以上版本 |远程服务端必须保证本机有访问权限，如果没有权限，到服务端数据存储路径下修改/data/pg_hba.conf文件添加host all all0.0.0.0/0 trust，重启服务。  
6  | **DB2** | × | × | √ | √ | × | 9.7及以上版本 | 必须有客户端，环境变量配置正确。  
7  | **HighGoDB** | × | √ | √ | √ | × | \-- | 和PostgreSQL类似  
8  | **SinoDB** | × | √ | √ | √ | × | \-- | 必须有客户端，环境变量配置正确。  
9  | **KingBase** | × | √ | √ | √ | × | V7版本 | 必须有客户端，配置环境变量正确。  
10  | **ArcSDE** | × | √ | √ | √ | × | \-- | 本地需安装 Arcgis 的三个动态库（sg\sde\pe）。  
11 | **BeyonDB** | × | √ | √ | √ | × | 2015版本 | 必须有客户端，环境变量配置正确。  
12 | **KDB** | √ | × | √ | √ | × | \-- | 必须有客户端，环境变量配置正确。  
13 | **[MongoDB](../../TechDocument/MongoDBDatabaseGuide.htm)** | × | √ | √ |
√ | × | 2.4以上版本 | 远程服务端必须保证本机有访问权限。  
14 | **DMPlus** | × | 可选填 | √ | √ | × | DM7版本 | 必须有客户端，环境变量配置正确。  
15 | **[PostGIS](../../TechDocument/PostGISUseGuide/PostGISGuide.htm)** | × |
√ | √ | √ | × | \-- |
远程服务端必须保证本机有访问权限，如果没有权限，到服务端数据存储路径下修改/data/pg_hba.conf文件添加host all all
0.0.0.0/0 trust，重启服务。  
  
  * **连接池最大连接数** ：在打开OraclePlus、PostgreSQL数据库数据源时，支持设置数据库连接池的最大连接数。数据库连接池负责分配、管理和释放数据库连接。最大连接数是连接池能申请的最大连接数，如果数据库连接请求超过此数，后面的数据连接请求将被加入到等待队列中。 
  * 对话框中的“ **加载数据链接信息** ”下拉按钮，提供了加载和保存数据库数据源的链接信息，方便用户保存和加载打开过的数据库型数据源信息。 
    * **保存数据链接信息** ：将当前设置的数据库数据源服务器、数据库、用户名等信息保存在 *.dcf 中。
    * **加载数据链接信息** ：单击该按钮，可在弹出的“打开”对话框中选择已有的 *.dcf 文件，加载 *.dcf 文件中记录的数据库型数据源信息，用户可不用手动输入相关的参数。

### ![](../../img/read.gif)打开 Web 型数据源

  1. 以上述任一方式执行打开操作，会弹出“打开 Web 型数据源”对话框。 
  2. 在“打开 Web 型数据源”对话框中,可在左侧 Web 类型列表中切换类型，在右侧输入要打开的数据源的必要信息。不同数据源设置参数的要求不同。 

  * **OGC：** 输入服务地址，并选择该服务的服务类型，桌面支持五种类型：WMS、WFS、WCS 、TMS 和 WMTS。WMS、WCS 和 WMTS 打开后均为只读数据源，WFS 服务打开后可以进行简单的编辑。对于 WMTS 服务，打开 WMTS 服务以后会在本地生成一个缓存文件夹。路径为：安装路径：SuperMap iDesktop 10i\Bin\Cache\WebCache\WMTS 文件夹下。在该文件夹下按照发布服务的地址建立文件夹，保存不同地图的瓦片文件以及请求文件（*.xml）。 有关 OGC 相关概念和服务介绍的内容请参见：[OGC 标准服务（W*C）](../../TechDocument/WebDatasets/AboutWebDataset.htm#1)。 
  * **iServerREST：** 用户须填写服务地址即可打开该数据源。有关 REST 服务的介绍内容请参见：[REST 服务](../../TechDocument/WebDatasets/AboutWebDataset.htm#2)。
  * **GoogleMaps:** 服务地址、服务类型、用户名称和打开方式等参数为系统默认参数，用户不需要设置。有关 GoogleMaps 的介绍内容请参见：[谷歌地图服务（GoogleMaps）](../../TechDocument/WebDatasets/AboutWebDataset.htm#3)。
  * **SuperMapCloud:** 服务地址、服务类型、用户名称、密钥和打开方式等参数为系统默认参数，用户不需要设置。有关超图云服务的介绍内容请参见：[超图云服务（SuperMapCloud)](../../TechDocument/WebDatasets/AboutWebDataset.htm#4)
  * **ChinaRS:** 提供打开四个地图服务，用户只需选择服务名称下拉框中的服务，其服务地址、服务类型、用户名称、密钥和打开方式等参数为系统默认参数，用户不需要设置。有关中科遥感的介绍：[中科遥感地图（ChinaRS)](../../TechDocument/WebDatasets/AboutWebDataset.htm#8)。
  * **OpenStreetMaps:** 服务地址、服务类型、用户名称、密钥和打开方式等参数为系统默认参数，用户不需要设置。单击“打开”即可。有关 OpenStreetMaps 的介绍内容请参见：[开放街道图（OpenStreetMap）](../../TechDocument/WebDatasets/AboutWebDataset.htm#7)。
  * **MapWorld:** 提供打开7项地图服务，用户只需选择服务名称下拉框中的服务，其服务地址、服务类型、用户名称和打开方式等参数为系统默认参数，支持用户输入服务密钥。有关天地图服务的介绍内容请参见：[天地图服务（MapWorld）](../../TechDocument/WebDatasets/AboutWebDataset.htm#5)。

### ![](../../img/note.png)注意事项

  1. 目前 Google 地图在国内无法正常显示地图，打开后地图会空白显示，但国外用户可以正常使用 Google 地图。
  2. 数据源被打开以后，打开的数据源会组织到工作空间中的数据源集合下，并通过数据源的别名来唯一标识数据源，同时，工作空间管理器也会随之发生变化，工作空间 管理器的树状结构中的数据源集合结点下会增加一个数据源子结点，该结点对应打开的数据源，并且结点的显示名称为该数据源的别名。并且该数据源结点下会增加一系列子结点，每个子结点对应数据源中的一个数据集。
  3. Web 地图（包括 OGC、Google 地图等）、影像地图、地图缓存等类型暂不不支持动态投影。 

Web 地图（包括 OGC、Google 地图等）不支持多个窗口关联浏览。

  4. 目前场景窗口不支持加载天地图数据的功能。
  5. 在打开 OGC 的 WMTS 服务时，可能会发现 WMTS 服务存在偏移，这是由于桌面应用程序地图显示的 DPI 与请求网络地图的 DPI 不一致导致的。需要将[安装路径]\Bin\Supermap.xml 文件中 CustomDPIX 和 CustomDPIY 参数设置成90.7即可。



