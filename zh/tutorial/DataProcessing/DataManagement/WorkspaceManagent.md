---
id: WorkspaceManagent
title: 管理工作空间
---
工作空间是用户进行地理操作时的工作环境，包括用户在该工作空间中打开的数据源、保存的地图、布局和场景等，当用户打开工作空间时可以继续上一次的工作成果来工作。工作空间的管理包括工作空间的打开、保存、另存、关闭、删除以及查看工作空间属性等内容。

### 工作空间的类型

工作空间有两种类型，包括文件型工作空间和数据库型工作空间。

  * **文件型工作空间** 是将工作空间存储为扩展名为 *.sxw/*.smw 或者 *.sxwu/*.smwu 类型的文件；
  * **数据库型工作空间** 是将工作空间存储在数据库中。目前，支持打开的数据库型工作空间包括：SQLPlus、OraclePlus、PostgreSQL、MySQL、MongoDB、DMPlus 和 PostGIS 等数据库型工作空间。

### 工作空间的层次结构

用户的一个工作环境对应一个工作空间，每一个工作空间都由树状层次结构组成，该结构中工作空间对应根结点。一个工作空间包含唯一的数据源集合、唯一的地图集合、唯一的布局集合、唯一的场景集合和唯一的资源集合（符号库集合），对应着工作空间的子结点。

数据源集合，用于管理在工作空间打开的所有数据源；地图集合，用来保存工作空间中的地图；布局集合，用来保存工作空间中的布局；三维场景集合，用来保存工作空间中的三维场景；符号库集合，主要管理符号库、线型库和填充库。

工作空间中的地图、布局、三维场景和资源都是依附于工作空间存在的，即这些内容都保存在工作空间中，删除工作空间时，其中的地图、布局、三维场景和符号库资源也相应的随之删除；而数据源是独立存储的，与工作空间只是关联关系，并没有保存在工作空间中，当删除工作空间时，只是删除了工作空间与数据源的关联关系，并不能删除数据。

### ![](../../img/read.gif) 打开工作空间

打开工作空间有三种方式：

  * “文件”选项卡中“打开”按钮，提供打开不同类型的工作空间的功能。
  * “开始”选项卡“工作空间”组提供“文件”和“数据库”两个按钮以打开不同类型的工作空间。其中下拉按钮包含两个部分，一是按钮部分，单击该部分将执行下拉菜单中第一项的功能；二是下拉按钮部分，单击该部分将弹出下拉菜单，通过选择下拉菜单中的项来实现打开相应类型的工作空间。下面详细介绍使用“打开”下拉菜单中的各个菜单项打开相应类型的工作空间的操作方式。
  * 单击右键工作空间管理器中工作空间节点，可在右键菜单中选择”打开文件型工作空间“和”打开数据库型工作空间“。

以打开SQLPlus数据库型工作空间为例，对操作方式进行详细说明：

  1. 单击“数据库”下拉按钮部分，选择下拉菜单中的“SQLPlus”项。
  2. 弹出“打开数据库型工作空间”对话框，在该对话框中输入待打开的工作空间及工作空间所在的数据库的信息，单击“确定”按钮即可打开相应的工作空间。
    * **服务器名称** ：可以直接输入SQLPlus 数据库服务器名称，也可以点击“服务器名称”右侧组合框的下拉列表，将自动列出当前网络中能访问到的服务器名称。 

**注** ：若打开的为Oracle数据库，则会自动列出本地Oracle客户端中已配置的服务实例名称。

    * **数据库名称** ：输入工作空间所在的SQLPlus 数据库的名称。
    * **用户名称** ：输入进入工作空间所在的SQLPlus 数据库的用户名。
    * **用户密码** ：输入进入工作空间所在的SQLPlus 数据库的密码。
    * **工作空间名称** ：输入要打开的工作空间名称。如果正确输入了服务器名称、数据库名称、用户名称、用户密码后，“工作空间名称”右侧的组合框的下拉列表中会列出当前数据库中所包含的所有工作空间的名称，用户可以选择要打开的工作空间。

**注意事项** ：

  * 在应用程序中，当前只能打开一个工作空间，不能同时打开多个工作空间，因此，在打开工作空间时，应用系统会先关闭当前打开的工作空间。在关闭当前打开的工作空间时，如果应用程序当前存在一个打开的未保存的工作空间，系统将弹出对话框，提醒保存关闭原有的工作空间，待关闭原有的工作空间后，才能继续打开操作。
  * 打开工作空间后，工作空间中的数据，如数据源、地图、布局、场景、图表、符号库等，会按照其自身的数据组织结构对应到工作空间管理器的树状结构中相应的结点下。

### ![](../../img/read.gif) 保存/另存为工作空间

“保存”按钮提供保存/另存当前打开的工作空间中的操作结果以及保存工作空间的功能，工作空间中的操作结果只有先保存到工作空间中，然后，在进行工作空间本身的保存，这些操作成果才能最终保存下来，在关闭工作空间后，当再次打开工作空间时，才能获取上一次工作的环境以及操作成果。

  * **先保存工作空间中的操作结果** 当工作空间中有未保存的内容，单击“保存”按钮时，会弹出“保存”对话框。在弹出的“保存”对话框中的列表为未保存的项目，包括：未保存的地图、模型、布局。每个项目前有一个复选框，默认为选中状态，当复选框被选中时，表示将该项内容保存到工作空间中；否则，不进行保存。
  * **保存工作空间** 指定好要保存到工作空间中的内容后，单击对话框中的“保存”按钮，即完成工作空间的保存。
  * **另存为工作空间** 如果当前打开的工作空间是已经存在的工作空间，则在上一步中单击“保存”按钮后，即可实现工作空间的保存；如果当前打开的工作空间是一个新的工作空间（非已有的工作空间），则在上一步单击“保存”按钮后，将弹出如下所示的“工作空间另存”对话框，通过“另存工作空间为”对话框可以将工作空间保存为用户所需要类型的工作空间， 可选择存储为文件型工作空间或数据库型工作空间。

### ![](../../img/read.gif) 关闭工作空间

“关闭工作空间”，主要提供关闭当前打开的工作空间的功能。关闭工作空间后，应用程序会提供一个默认打开的空的工作空间作为当前打开的工作空间。

  1. 在工作空间节点上右击鼠标，在弹出的右键菜单中选择“关闭工作空间”项。
  2. 应用程序在执行当前打开的关闭工作空间操作时，如果应用程序中当前打开的工作空间没有未被保存的内容，则直接关闭当前的工作空间；如果当前打开的工作空间存在未被保存的内容，则会弹出对话框（如下图所示），提示用户在关闭当前打开的工作空间时是否保存这些内容。
  3. 如果点击“否”按钮，则不进行保存直接关闭当前打开的工作空间；如果点击“是”按钮，则对当前打开的工作空间进行保存工作。有关保存/另存为工作空间请参看上一节保存操作。

### ![](../../img/read.gif) 查看工作空间属性

通过工作空间“属性”面板可以查看工作空间的属性信息，包括工作空间的存储位置以及当前工作空间内包含的数据源、地图、布局、场景等统计信息。

  1. 在工作空间节点上右击鼠标，在弹出的右键菜单中选择“属性”项，弹出工作空间“属性”窗口。
  2. 在“属性”窗口中包含“ **属性** ”和“ **统计** ”两个面板：
    * “ **属性** ”面板：显示当前工作空间文件名称、路径信息、类型、版本以及描述信息，用户可单击“复制”按钮，复制当前工作空间路径地址，并支持添加工作空间的描述信息，同时支持更改当前工作空间密码等操作。
    * “ **统计** ”面板：显示当前工作空间中数据源、地图、布局、场景的统计信息。

### ![](../../img/read.gif) 模板创建工作空间

SuperMap
提供了基于模板创建工作空间的功能，基于指定模板创建的工作空间与模板工作空间中的数据源、数据集、地图、布局、场景一致。创建的工作空间与模板工作空间的异同点如下：

  * 数据源名称、投影等属性与模板中的数据源一致；
  * 数据源中的数据集个数、类型、名称、属性表结构、投影、字符集、编码、值域等属性与模板中的数据集一致；
  * 新建工作空间中的数据集对象个数为 0，数据范围为空，索引类型为无空间索引。

**功能入口**

基于模板创建工作空间功能入口有两个:

  * 在“开始”选项卡“工作空间”组的“文件”下拉选项中，单击“基于模板创建工作空间”选项；
  * 在“起始页”的“打开数据”组中，单击“新建工作空间”按钮。通过上述任意一种方式都可打开“模板创建工作空间”对话框，

**参数说明**

  * 目标数据：用于设置新创建的工作空间保存的路径和名称，工作空间中的数据源保存在于工作空间同级的目录中。
  * 模板：选择工作空间模板，SuperMap提供了三种选择方式，用户可根据需求进行选择： 
    * 当前工作空间：选择该单选框则表示以当前工作为模板。
    * 本地工作空间：单击右侧按钮，在本地文件中选择一个工作空间作为模板，或在文本框中直接输入模板工作空间的路径和名称。
    * 工作空间模板：SuperMap 根据国标提供了两种模板，一种是地理国情普查模板，一种是基础地理信息地形要素模板。

### ![](../../img/read.gif) 复制工作空间路径

可通过工作空间右键菜单中的“复制完整路径”选项，或工作空间属性面板中的“复制”按钮，复制工作空间文件路径及名称，便于用户通过定位到本地文件。

* * *

[](http://www.supermap.com)  
  
---

