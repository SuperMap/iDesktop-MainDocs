---
id: TopoCheck
title: 拓扑检查  
---  
### ![](../../img/read.gif)使用说明



用于检查点、线、面数据集本身及各不同类型数据集其相互之间不符合拓扑规则的对象，并将检查结果保存到简单数据集（即点、线、面数据集）或 CAD 数据集中。



### ![](../../img/read.gif) 功能入口



*  **数据** 选项卡 - **拓扑**组- **拓扑检查** ”
* **工具箱** - **数据处理** -**拓扑检查** 。(iDesktopX)
### ![](../../img/read.gif)参数说明



### 添加数据集



在列表框内添加需要进行拓扑检查的待检查数据集。列表框将显示这些数据集的相关拓扑检查信息，下面将详细介绍表格内各列所表示的信息以及编辑、使用方法。



* “ **数据集** ”列：需要进行拓扑检查的待检查数据集。

* “ **数据源** ”列：需要进行拓扑检查的待检查数据集所在的数据源。

* “ **拓扑规则**”列：对待检查数据集进行拓扑检查时用到的检查规则，共35种。拓扑规则可在"参数设置"区域内"拓扑规则"对话框中进行选择。拓扑规则的详细说明请参见[拓扑检查规则](TopoRule.html)。



设置与拓扑规则相关的参数，有关拓扑规则的详细描述请参见[拓扑检查规则](TopoRule.html)。

* **拓扑规则**：用于进行拓扑检查的规则，系统会根据待检查数据集的类型，列出合适该类数据集的所有拓扑规则。选择一个拓扑规则后，在右侧“拓扑规则说明”区域会显示相应规则的图示，方便用户更加直观的了解所选的拓扑规则。

* **容限**
：用于进行拓扑检查和拓扑预处理的容限值，如节点之间的距离等。不同的拓扑规则需要设置不同的容限，建议使用默认容限。容限单位与数据集单位一致。容限默认值与数据集的坐标系有关，具体说明请参见[容限说明](../Tolerance.html)。

* **角度** ：该参数仅针对线对象的“线内无打折”规则参数可用，用于设置打折线段角度容限值。

* **拓扑预处理**：若勾选此项，系统则会根据设置的容限值对待检查数据集中的拓扑错误进行预处理，容限值可在“容限”参数处设置。即在这个值的范围内，所有的点和线被认为是重合的，通过拓扑预处理可将这些在容限范围内的点和线仅保留一个作为正确的对象。部分拓扑规则（多为涉及到节点操作的拓扑规则，如“线与线无相交”）在拓扑预处理后会有较好的检查效果。拓扑预处理会同时针对待检查数据集和参考数据集，建议在进行拓扑检查前进行预处理操作。

由于此操作直接在待检查的数据集中进行，提示信息按钮会提示用户：该操作会修改参与拓扑检查的数据集。用户若不想修改原始数据，请在拓扑预处理之前进行数据的备份工作。



* **修复拓扑错误**
：系统可对部分拓扑规则所检查出的错误进行自动修复。选择可自动修复的拓扑规则以后，“修复拓扑错误”项将由灰色变为可勾选的状态。勾选该项后，即可在拓扑检查的同时对待检查数据集进行修复。



其中，可进行自动修复的拓扑规则见下表：



拓扑规则 | 修复方式  
---|---  
线内无假结点 | 将假结点变为节点，即假结点所连接的两条线合并为一条线。  
线或面边界无冗余节点 | 将线或面边界上的冗余节点删除。  
线与线无重叠 | 若待检查数据集中的线对象与参考数据集中的线对象有重叠，将删除待检查数据集中该条线对象的重合部分。  
线内无自交叠 | 将线对象的自交叠部分删除。  
线内无重叠 | 将其中一条线对象的重叠部分删除。  
节点距离必须大于容限 | 将容限范围内的所有节点捕捉到一起，即合并成一个节点。  
节点之间必须相互匹配 | 在线对象上添加匹配的节点。  
线段相交处必须存在交点 | 在两条线段相交处分别添加交点。  

### 参考数据



* **数据源** ：参考数据集所在数据源，默认为待检查数据集所在数据源。

* **数据集**
：选择用于拓扑检查的参考数据集。根据拓扑规则的不同，有些规则会使用两个数据集进行拓扑检查，如“点必须在线上”，则需要一个线数据集作为参考数据集；而另一些规则只是在一个数据集内进行拓扑检查，如“线内无重叠”，只需要选择待检查数据集即可。



### 结果数据



* **数据源** ：结果数据集所在数据源，默认为待检查数据集所在数据源。

* **数据集** ：在列表框中选中一条拓扑检查记录后，可在这里设置结果数据集的名称，默认名称为
TopoCheckResult。结果数据集类型与该条记录所设置的拓扑规则有关。

* **保存到同一数据集** ：若勾选此项，则将列表框中所有的拓扑检查结果保存到同一个数据集（CAD
数据集）中，数据集名称即当前结果数据集中显示的名称。若不勾选此项，用户则可分别对列表框中每一条拓扑检查记录设置结果数据集的名称。

4. “ **执行完成后自动关闭对话框**
”复选框：选中该复选框后，在应用程序完成列表框内所有记录的拓扑检查后，将自动关闭“数据集拓扑检查”对话框；否则，不自动关闭“数据集拓扑检查”对话框。





### ![](../../img/note.png)注意事项




如果待检查数据中存在自相交的面对象时，无法对该面进行面内无缝隙规则的检查。建议在进行“面内无缝隙”规则检查时，先进行“面内无自交叠”规则的检查，然后再进行“面内无缝隙”规则的检查。或者手动对自相交的面进行处理，然后再进行“面内无缝隙”规则的检查。



