---
id: FunctionContract
title: 填挖方、地形模型匹配和DEM挖湖介绍
---
填挖方、地形模型匹配和DEM挖湖功能都是常用的栅格分析功能，三者既有联系又有区别。三者都是对 DEM
地形数据进行操作的，操作的结果都会得到一个新的栅格数据。区别就是三者是不同的栅格操作。填挖方和地形模型匹配涉及到栅格数据之间的代数运算，而 DEM
挖湖则相当于栅格更新。

下面分别对这三个功能进行介绍：

### [填挖方](Raster/SurfaceAnalyst/CutFill.htm)

填挖方用来统计一个地形表面所需要挖方或者填方的土方量。填挖方有2种方式。一种是通过统计两个栅格数据（源数据和填挖方数据）之间的体积和面积变化实现填挖方，一种是面填挖方，通过在栅格表面绘制面或者绘制线生成缓冲区确定一个参考面，并指定挖方后的期望高程值（附加高程），最终计算得到挖方的面积和体积。

填挖方结果得到一个新的栅格数据集，实际是源栅格数据集和挖方对象之间栅格代数运算的结果，并对发生变化的区域进行统计的结果。填挖方的结果可以在地图和场景中同时显示。

### [地形模型匹配](Raster/SurfaceAnalyst/TerrainMatch.htm)

地形模型匹配（地形匹配）是为了解决场景中模型和地形不能完全匹配的问题。当模型叠加地形数据在同一场景中显示的时候，由于地形的起伏，不可避免会出现一个问题：模型底部往往都是平整的，位于同一高度，而真实的地形可能是起伏不平的，导致模型和地形不能严格贴合，出现部分模型被地形掩埋或者浮于地形之上的情况。模型匹配功能可以很好的解决这个问题。通过将模型覆盖的地形区域修整为一个平面，从而实现模型底部与地面的完美贴合。

模型匹配过程主要包括两个步骤： **填挖方** 和 **平滑处理** 。

1. **填挖方** ：按照指定模型底部高程，对模型覆盖的地形区域进行填挖方，保持两者高程一致。
2. **平滑** ：填挖方后，导致模型边缘地形骤然上升或者下降，显得比较突兀，需要进行平滑处理。以模型底部平面会参考，以指定的过渡区域为缓冲半径，对地形进行平滑处理。

### [DEM 挖湖](TerrainBuilder/TerrainBuilderLake.htm)

在实际的地形地貌中，除了地形的高低起伏，还存在诸如湖泊、水库等洼地，也需要真实地体现出来。DEM挖湖功能可以实现这样的作用。在构建 DEM
过程中，指定一个面数据作为湖面数据，通过选择高程字段或者输入高程值，确定挖湖后的湖面的高程信息。此过程相当于将构建的 DEM
中湖面位置对应地形区域的高程值更新为指定的高程值。

SuperMap 提供的 DEM 挖湖功能有两种操作方式，一种是在构建 DEM 的过程中，直接对 DEM 进行挖湖操作；另外一种是对已经存在的 DEM
数据进行挖湖操作。


