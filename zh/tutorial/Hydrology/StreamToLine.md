---
id: StreamToLine
title: 提取矢量水系
---
### ![](../img/read.gif)使用说明

水系矢量化功能用来将栅格水系转化为矢量水系，并将河流的等级存储到结果数据集的属性表中。得到矢量水系后，就可以进行各种基于矢量的计算、处理和空间分析，如构建水系网络。下图为
DEM 数据以及对应的矢量水系。

![](img/StreamToLine.png)  

提取的矢量水系数据集，保留了河流的等级和流向信息。

  * 在提取矢量水系的同时，应用程序会计算每条河流的等级，并在结果数据集中自动添加一个名为“StreamOrder”的属性字段来存储该值。分级的方式请参见[河流分级方法](StreamOrderType.html)进行设置。
  * 流向信息存储在结果数据集中名为“Direction”的字段中，以0或1来表示，0表示流向与该线对象的几何方向一致，1表示与线对象的几何方向相反。默认矢量水系的流向均与其几何方向相同，即“Direction”字段值都为0。在对矢量水系构建水系网络后，可直接使用（或根据实际需要进行修改）该字段作为流向字段。

### ![](../img/read.gif) 操作步骤

1. 在“ **分析** ”选项卡的“ **栅格分析** ”组中，单击“ **水文分析** ”按钮，弹出“水文分析”窗口。
2. 在左侧的功能区中，选择“**水系矢量化**”按钮。
3. 在右侧的参数设置区中，设置水系矢量化相关的参数。 
    * **水系数据** ：选择栅格水系所在的数据源以及数据集。
    * **河流分级法** ：选择提取后的水系的分级方法。关于河流分级法的介绍，请参见[河流分级方法](StreamOrderType.html)。
    * **流向数据** ：选择流向数据所在的数据源以及数据集。关于如何生成流向数据，请参见[计算流向](CalFlowDirection.html)。
    * **结果数据** ：设置结果要保存的数据源和数据集的名称。
4. 单击“ **准备** ”按钮，表示当前分析功能的相关参数设置已经完成，随时可以执行。准备完毕的流程会置灰，不能修改；如需修改设置的参数，可以单击“取消准备”按钮进行修改。**注意**：单击“准备”下拉按钮，会弹出下拉菜单。“全部取消”功能，用来取消所有已经准备好的步骤的准备状态。
5. 单击“ **执行** ”按钮，执行准备好的分析功能。执行完成后输出窗口中，会提示执行结果是成功还是失败。