---
id: ModeMakingNote
title: 模型制作注意事项
---
为了保证模型加载到三维场景的效率和显示的效果，在进行模型制作的时候，有一些注意事项和优化措施。下面以3ds max 制作 *.3ds
模型为例，介绍一下如何制作出精简高效且美观的模型。

![](img/close.gif)模型制作软件要求

  * **制作软件要求**

软件：3Ds max

版本：9.0

单位设置：单位要求为米（Meters）

场景单位设置如图1 所示：

![](img/Note1.png)  
---  
图1：3ds max 场景设置  
  
在建模时，设置3ds max的系统单位（System Unit）为米（meter）。使用3ds
max打开模型文件时，若max模型文件单位与当前场景单位不一致，则会弹出“File Load : Units Mismatch”对话框，此时，勾选
“Adopt the File’s Unit Scale” 项，采用max文件的单位。

![](img/Note2.png)  
---  
图2：“File Load : Units Mismatch”对话框  
  * **贴图处理软件要求**

软件：Photoshop

版本：不限

  * **MAX插件要求**

清空浪费材质球插件，检查 UV 属性插件及一些辅助实用的插件。

![](img/close.gif)建模内容

**建筑物**

  * 按照建筑物形状、位置分布特点及复杂程度分为以下几类： 
    * 简单独立建筑物。
    * 附属建筑物：首先要确定它是一个建筑物且与一个主体建筑物相连。分为两种情况，一种是一边与主体建筑物相连，另外一种是两边都与其它的建筑物相连。
    * 多层建筑物：在每一类型建筑物之上的建筑物。
    * 内部庭院：分为简单内部庭院和复杂内部庭院。简单内部庭院为是指平顶房内的空地；复杂的内部庭院是指由不同房檐类别围成的空地。
    * 复杂建筑物：建筑物主体包含球面、弧面、折面或多种几何形状，或包含以上提到的多种类型建筑物。
  * 根据屋顶形状，建筑物屋顶划分为以下几类： 
    * 平顶房：平顶房包括平顶和单斜面顶两类。
    * 脊房：脊房包括鞍形屋顶、脊形屋顶、鞍脊屋顶合成、菱形屋顶。
    * 复杂屋顶：包含多种几何造型的屋顶。
  * 建筑物附属设施 
    * 建筑物附属设施包括烟囱、水箱、门廊、台阶、室外扶梯、房屋墩、柱、天窗、屋檐、避雷针、建筑物立面突出物以及屋顶装饰等。

**地形模型**

  * 地形模型的制作应符合下列规定： 
    * 地形模型数据应由几何数据和纹理数据组成。模型应简洁、完整地表达地表起伏形态特征，便于快速、清晰地判断建模区域的地形特征和方位。
    * 地形模型制作前，应根据需要合理确定几何模型表达方法、精度要求及纹理的分辨率、尺寸。
    * 地形模型的边界线必须为闭合多边形。
  * 地形模型制作的质量应符合下列规定： 
    * 相邻建模单元的地形模型应平滑衔接，不得出现重叠和漏缝；
    * 地形模型应完整覆盖整个建模区域。

**道路模型**

  * 道路模型建模主要包括以下内容： 
    * 道路：包括公路、城市道路、厂矿道路、林区道路、乡村道路、下穿通道。
    * 轨道交通及桥梁：包括铁路、轻轨、高架路、立交桥、人行天桥、公铁两用桥、支座、引桥、栏杆、拉索等。
    * 道路附属设施：包括道路交通标志和标线、路沿、植被隔离带、栅栏、顶篷、路灯、信号灯等。
  * 道路模型建模应符合以下规定： 
    * 道路及其附属设施的位置及平面信息应根据1：500、1：1000、1：2000等比例尺的地形图或DOM确定，高度信息可进行实地测量或根据遥感影像、航空影像及现场勘查资料进行判读。
    * 道路的铺装方式和材质特点可依据地区现状主要道路特征确定，人行道的铺装图案材质及颜色宜实地采集。
    * 道路上的各类交通标识宜与实际情况一致，包括各类交通标志、标线和信号灯等。
    * 其它道路附属设施宜依据现实生活中的典型示例进行建模或纹理表现，几何尺寸应符合相关设施的设计、制造规范、可重复使用。

**植被模型**

  * 植被模型建模内容： 
    * 公路或道路两旁成行栽植的行道树。
    * 绿地、公园、社区、庭院种植的景观植物。
  * 植被模型制作应符合下列规定： 
    * 在符合应用需要的可视效果下，其形态、高度宜真实。
    * 植被模型的树干底部应与其附着面保持一致，与地形相吻合。
    * 行道树的放置间距应符合实际情况。
    * 景观植物的放置和搭配宜与实际相符，树种选择和色彩搭配应协调美观，树木的大小、高低、形态应与所在环境的尺度和空间层次相宜。
    * 可综合考虑建设情况、表现效果等，建立十字面片或多面片的几何模型。
    * 宜针对场景较小和特定造型的景观植物、文物保护树种等建立精细模型。

**水系模型**

  * 水系模型建模内容： 
    * 水系主要包括水面、河床、码头、河堤、护栏、防洪墙（堤）和过水桥等。
  * 水系模型制作应符合下列规定： 
    * 水系及其附属设施的位置及平面信息应根据1:500、1:1000、1:2000等比例尺的地形图或DOM确定，或根据遥感影像、航空影像进行确定。
    * 水系模型制作时必须保证有水的底面与侧面存在，底面应与地形相吻合，水面用真实纹理表达。当水底和地景相连为一体时，可直接采用水面纹理。
    * 河堤、护栏、防洪墙等附属设施建设时宜依据现实中的典型形式进行建模或纹理表现，几何尺寸应符合相关设施的设计、制造规范。为配合三维场景展示效果，可允许一定的地形损失。
    * 水面纹理可根据特定需求表现为静止或动态动画效果。

**其他模型**

  * 其他模型建模内容 
    * 其它模型主要包括除地形、建（构）筑物、交通以外的要素；可分为辅助系统和美化系统等两个大类。
  * 其他模型制作应符合下列规定： 
    * 模型底部应与其附着面保持一致。
    * 模型外形主要结构应表达清楚、准确和完整。
    * 模型尺寸、比例应准确。常规尺寸应统一收集获取，特殊造型模型及其细节结构应进行实地测量，并严格按照测量数据进行模型制作。
    * 应控制模型面数，在不影响模型表现效果的前提下，细节特征部分小于0.1m的结构宜用修饰真实纹理表现，大于0.1m的结构宜采用模型表现，弧形结构在保证效果的前提下控制面数。对镂空细节非常多的模型，宜采用透明贴图对模型进行优化。
    * 模型的摆放应以实际情况为依据，合理设置摆放位置及间距，不应与周围其他模型相互穿插。带状绿篱，花坛、单片栏杆、围墙等模型制作时应注意比例尺度，参考实地测量所得数据。

![](img/close.gif)模型要求

**精简模型的标准**

模型分为普通精模、普通简模、精模和简模，一般最常见的是普通精模和普通简模。精模通常用于比较小的场景展示，简模通常用于远处的模型或地块里面（不贴近道路的地方）非主要的模型。尽量做简模，重新制作简模比改精模的效率更高。下面分别介绍精简模型的标准：

  * **普通精度模型** ：模型0.3米以下的结构不用表现出来，0.3以上的需要结构变现，例如，底商上面的招牌超出0.3米时，需要表现出结构，如图3 所示：  ![](img/Note3.png)  
---  
图3：精模0.3米结构变现  
  * 普通简模：模型0.5米以下的结构不用表现出来，0.5以上的需要结构变现。
  * 精模：要求0.1米以上的结构基本上都需要表现出来，例如：台阶等都需要做成实模。
  * 简模：要求1米以内的结构而且不是重要的东西都不需要表现结构出来，1米以上的需要结构变现。

**低面建模**

低面建模要求使用最少的面数表现出较好的结构，常用操作有以下几种方式：

  * 删除没必要的面，例如，楼房的底面或两墙挨着的面，如图4 所示：  ![](img/Note4.png)  
---  
图4：删除多余面  
  * 删除多余的线段、顶点和游离点，如图5 所示，不要切出窗户上的线段，要用贴图表示：
![](img/Note5.png)  
---  
图5：删除多余线段  
  * 尽量减少曲面、圆柱体和球体的段数。 
    * 楼房比较大的柱子段数应该在8-12段；  ![](img/Note6.png)  
---  
图6：8-12大柱子段数  
    * 小型的柱子段数应该在 6-8 段
    * 比较小的柱子段数在 6 段以下，看情况而定，有的情况下可设置到最小的3段； 
    * 在某一排上柱子比较多的话应该采用透明贴图来变现柱子，如图7 所示：  ![](img/Note7.png)  
---  
图7：透明贴图变现柱子  
  * 共面距离
  * 同一法线两个面之间的最小间距要大于0.3米，以避免共面闪烁，例如广告牌。若两面间的距离必须小于0.3米，则为了避免共面闪烁，需要将下面的面挖洞。对于超过20米以上的大面在同一法线上重复的情况，最好将下面的面挖洞处理。  ![](img/Note8.png)  
---  
图8：共面挖洞  

**禁止布尔运算**

模型禁止使用布尔运算处理，包括并集、交集、差集、切割等。

**材质编辑器参数使用**

不要在材质球上调UV重复次数和位移，尽量材质编辑器中的任何参数都不要调节。

![](img/Note9.png)  
---  
图9：材质编辑器  
  
**避免交叉叠加面**

避免重面，遇到重面现象时应该合理的删掉，如图10 所示：

![](img/Note10.png)  
---  
图10：删除重叠面  
  
将模型转换成Editable Mesh检查模型是否有黑面，并调整。

![](img/Note11.png)  
---  
图11：检查模型存在的问题  
  
虚拟现实中一般是禁止镜像和缩放，需要的话也可以使用。镜像或缩放操作完后，创建一个Box塌陷后，用Box模型Attach镜像或缩放模型，然后进入面子集或元素子集把Box删除即可。
**建议** ：能用贴图表现的模型尽量用贴图表现（也要看增加贴图换来的面数减少是否划算）。

**MAX文件大小**

为了保证模型加载到场景中的效率，一个*.max或*.3ds模型的面数不要超过3万个，若超过3万个三角面，则应该分成2个或多个*.max或*.3ds文件。

**材质的单双面**

场景中所有的单面片模型对应的材质要勾选双面渲染，例如，植物、栏杆、建筑上的透贴牌子等。一般情况下使用透明贴图的面片都需要勾选双面渲染。

![](img/Note12.png)  
---  
  
![](img/close.gif)贴图内容

  * **纹理格式** ：JPG、PNG、TGA、GIF。
  * **纹理大小** : 纹理长、宽均为2的n次幂像素值；建筑物纹理尺寸控制在1024×1024以内，地形纹理尺寸控制在512×512以内。
  * **贴图要点** : 
    * 纹理贴图所表现的建筑特征(如门、窗、建筑层高等)尺寸精度≤50cm，且须保持其大小比例协调。门、窗、橱窗等开、关保持一致。
    * 建筑物镂空、围栏、装饰性花纹等特征使用透明纹理进行表现。
    * 对玻璃材质、金属材质、水材质进行特效处理；提升草坪肌理的真实感、光感。
    * 标志性文字(如政府部门、大型企事业单位、商业楼、公共建筑的名称、居民楼幢号)须与实际一致；独立的标志性文字原则上使用透明纹理表现。
    * 建筑物非永久性附属物(如空调室外机、雨水管、水箱、防盗网、节日宣传性标语、临时性贴画)、污浊部分、玻璃墙面的倒影等原则上不得表现。
    * 临时性门面牌、居民楼下面的小门面牌或较破旧的门面牌可以舍去，不贴纹理。为增强建筑物的立体感，要求调整同一物体的明暗面的亮度值。
  * **贴图数量** : 一个 *.3ds 模型文件对应的贴图不要超过100个，若超过100个，则应该分成2个或多个 *.3ds 文件。

![](img/close.gif)模型烘培要求

**基本要求**

  * 统一使用项目设置的灯光文件。
  * 所有建筑物及景观均要求烘培，建筑采用CompleteMap烘焙方式，其它模型采用LightingMap烘焙方式，透明纹理不需要烘培但需赋予双面材质。
  * 烘培某一建筑物或景观时要求摆放其附近建筑物，以表达相互之间的阴影关系，增强真实感。
  * 烘培后纹理上的阴影方向必须正确。
  * 光影效果正常，避免纹理曝光或黑暗。
  * 有效纹理最大化显示，使纹理在有限的贴图尺寸中最高像素显示。
  * 烘焙后文件格式为PNG格式。
  * 一个模型文件对应的贴图不要超过100个，若超过100个，则应该分成2个或多个模型文件。

**烘焙尺寸**

  * 要求保证纹理的清晰度和数据量限制要求，烘焙尺寸最大为1024*1024。
  * 地形面模型按照四分之一图幅号（1：2000）范围进行2×2方块等分切割，如模型采用多维材质球赋予纹理，用手工分离或脚本分离方式对多维材质进行分离（达到一个模型仅使用一个标准材质球），若景观本身为普通标准材质球，则需保证四分之一图幅号范围内使用同一张纹理的模型塌陷为同一物体（即一张纹理一个模型）。
  * 超大面数小品烘焙尺寸为512×512（沥青地面、大面积铺地、人行道、大面积草坪等、大型复杂景观）、剩余砸碎模型使用256×256或128×128（斑马线、行车线、路牙、零散铺地、小块绿地、普通小品、普通景观等）。
  * 路灯、路牌、垃圾桶、公交站台、休闲椅、凳等重复率极高模型需单独烘焙一个再对模型进行复制摆放。

### 文件命名

**模型命名原则**

  * 命名规则应具有可扩充性。
  * 所有模型的命名必须唯一。
  * 命名应准确、合理、简明。
  * 名称可用字母、数字和下划线组合表示。
  * 三模型类型应按地形模型、建筑模型、道路模型、水系模型、植被模型、地下空间设施模型和其他模型划分，可采用各类别名称首字母缩写，也可采用英文缩写。

**贴图命名**

  * 命名规则应具有可扩充性。
  * 所有贴图的命名必须唯一。
  * 贴图名称不超过8位。
  * 名称可用字母、数字和下划线组合表示。

![](img/close.gif)批量重置模型

选中场景中所有的模型（注：动画模型不要进行操作），选择菜单中的 超图MAX插件――批量重置模型，弹出对话框，点击“坐标原点居底”按钮，将会执行刷模型的操作。

批量重置模型主要处理的事项是：可以解决模型做了缩放、镜像、坐标轴做了移动等一些错误信息。

![](img/close.gif)整理查看

**完善步骤**

在模型制作完成后，需要取消全部冻结物体和隐藏物体、优化材质球、清空材质球、清空贴图目录，若有无用的冻结和隐藏物体，需要删除掉。具体的整理查看步骤如下：

  1. 取消全部冻结物体和隐藏物体；
  2. 优化材质球，使用脚本工具优化材质，优化多维子材质，并使其ID正常排序。优化使用重复贴图不同ID号的材质球；
  3. 清空材质球。导出打包MAX和贴图。这个功能可以把当前场景中使用的贴图筛选出来，勾上Include MAX File选项可以把MAX文件也保存过去，贴图和MAX文件将保存到Output Path中的路径目录；
  4. 注意：一定不要有多余的贴图，导出前一定要优化材质球和清空材质编辑器中的材质球；
  5. 清除贴图路径。点击“File―>Asset Tracting”，弹出对话框如图，选中所有的贴图名称，在贴图名称右键弹出菜单，点击菜单中的“Strip Path”命令，将清除所选中的贴图路径。  ![](img/Note13.png) | ![](img/Note14.png)  
---|---  
图12：清除前的状态 | 图13：清除后的状态  

**成果质量控制**

  * 模型数据检查应包括下列内容： 
    * 模型数据的完整性。应包括地形模型、建筑模型、交通设施模型、管线模型、植被模型和其他模型等的错、漏情况。
    * 模型制作的准确性、合理性。应包括模型数据的平面位置、高度、形状、比例等几何精度的准确性，模型在场景中表达逻辑正确以及各级别模型优化制作的合理性检查等。
    * 模型纹理、贴图的准确性、完整性、协调性。应包括模型纹理的准确性、清晰度以及纹理与几何模型的一致性检查等。
    * 各建模单元接边的正确性、合理性检查。
    * 模型及纹理数据命名的正确性、规范性检查。
    * 其他内容检查。
  * 整体效果检查应包括下列内容： 
    * 地形模型表现应真实，模型应准确反映出建模物体的形状、质感、色彩、明度以及明暗关系。
    * 建筑物表现应真实无误，模型应准确反映出建模物体的高度、形状、质感、色彩及明暗关系。
    * 交通设施表现应真实无误，模型应准确反映出建模物体的高度、形状、质感、色彩及明暗关系。
    * 交通附属设施表现应真实、完整，模型应准确反映出建模物体的形状、质感、色彩及明暗关系。
    * 道路沿线植被及各类绿地中的公共景观植被的表现应真实，模型应准确反映出建模物体的位置、高度、分布、样式、质感及色彩等。
    * 水系模型应准确反映出建模物体的形状、质感、色彩、水纹等信息。
    * 其他模型要素应真实、完整，模型应准确反映出建模物体的位置、高度、分布、样式、质感及色彩等。
    * 场景整体色彩、光照效果应协调一致。
  * 成果提交:每个模型应提交一个MAX文件、一个3DS文件和一个纹理文件夹，存储与以模型命名的文件夹内。 


