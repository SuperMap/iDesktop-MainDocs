---
id: PointPlug-inModelCacheBuilder
title: 点缓存外挂模型缓存
---
**使用说明**  
　　点外挂模型是指具有相同材质、形状以及大小但仅空间位置和姿态不同的模型，采用模型只存一份，位置信息采用三维点数据集存储的方式存储多个模型数据集的模型统称。这样的方式与实例化有着异曲同工的用途，实现减少空间占用和数据量。

点数据集缓存外挂模型功能，支持点数据集生成缓存外挂模型，结果数据的文件类型仅支持S3MB。

**操作步骤**

  1. 在工作空间管理器中，打开需要生成模型缓存的数据源。
  2. 在“ **三维数据** ”选项卡上“ **三维瓦片缓存** ”组中，单击“ **生成缓存** ”下拉按钮，选择“ **点缓存外挂模型缓存**![](../img/Poin3DLinkModelCache.png) ”按钮，弹出“点外挂模型生成缓存”对话框，如下图所示：  
![图：“点外挂模型生成缓存”对话框  ](../img/PointPlug-inModel.png)  

  3. 添加模型数据集,单击![](../img/AddDataset.png)按钮，在打开的“选择”界面选择数据集。
  4. "选择"对话框界面左边区域内选择数据源，界面右边区域显示选中数据源内的所有模型数据集，单击“全选”或多选，确定添加的数据集，单击“确定”执行数据集添加操作，也可新建数据集作为添加数据集。
  5. 参数设置，参数如图内1所示。
       * **缓存名称** ：生成缓存的配置文件名，默认与数据源名一致，可修改。
       * **缓存路径** ：模型缓存存储路径，在该路径下创建了一个以缓存名称命名的文件夹存放缓存文件。
       * **文件类型** ：仅支持S3MB文件缓存类型。
       * **线程数** :默认为4。
       * **过滤阈值** ：用于设置过滤粗糙层子对象的参数，默认为0，单位为像素。如若输入2，则表示小于2像素的子对象被过滤掉。
       * **瓦片边长** ：显示和设置瓦片边长的大小，单位为米。瓦片边长大小不同则对应的比例尺不同，将鼠标移至“瓦片边长”标签后的问号处，即可查看瓦片边长与比例尺、层级的对应关系。“瓦片边长”标识了缓存层相对于指定瓦片边长所对应的比例尺。
       * **批量生成** ：用于设置是否批量生成缓存，若勾选则批量生成缓存，即多个数据集生成一个缓存文件。
  6. 模型参数设置，参数如图内2所示.
       * **对象ID字段** ：用于自行设置唯一标识ID的字段，通过下拉箭头进行选择。 
       * **矩阵设置** ：对模型旋转缩放的参数进行设置，有以下两种方式： 
         * 勾选“矩阵字段”复选框，指定数据的字段作为的旋转缩放的参数； 
         * 不勾选“矩阵字段”复选框，用户可自定义X/Y/Z旋转和缩放的参数。通过选择模型字段作为旋转或缩放的参数。
       * **模型文件路径** ：指定字段作为模型文件路径，这里的模型文件路径是绝对路径。
       * **LOD层级数** 。用于设置缓存的LOD层级数，在数值框中直接设置即可。 
  7. 设置完成后，单击“生成”按钮，执行缓存生成操作。其中 *.scp 为缓存配置文件，attribute.json为属性描述文件。

**注意事项**

   1. 用于生成缓存的三维点数据集的属性表内的路径，一定是模型的绝对路径。否则将会生成失败！
  2. 所有属性字段名均为属性名称，而不是属性别名。

 

