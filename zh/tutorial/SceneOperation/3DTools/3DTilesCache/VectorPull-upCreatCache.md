---
id: VectorPull-upCreatCache
title: 面拉伸生成模型缓存
---
### ![](../../../img/read.gif)使用说明

将数据源中的矢量面数据拉伸生成模型缓存文件，加载此缓存，能够大幅度提升模型浏览性能与显示效果。同时支持批量生成模型缓存。

### ![](../../../img/read.gif)操作步骤

  1. 在工作空间管理器中，打开需要生成缓存的数据源。
  2. 在“ **三维数据** ”选项卡上“ **三维瓦片** ”组中“ **生成缓存** ”下拉按钮内，单击“ **面矢量拉伸生成模型缓存** ”按钮，弹出“面矢量拉伸生成模型缓存”对话框。
  3. 添加数据集：单击**添加数据集**按钮，选择需要拉伸的矢量面所在的数据源和数据集。
  4. 参数设置： 
      * 缓存名称：设置生成缓存的名称。
      * 缓存路径：设置生成缓存存放的目标路径。
      * S3M版本：支持两种S3M版本号，S3M1.0和S3M2.0。
      * 属性存储类型：支持两种属性存储类型，S3MD和ATTRIBUTE，提高属性文件的下载效率。其中S3MD的是以json的方式存储，ATTRIBUTE以二进制流的方式存储。
      * 文件处理类型：分为替换和追加两种类型，选择追加模式则不支持设置分层。
      * 瓦片边长：显示和设置瓦片边长的大小，单位为米。瓦片边长大小不同则对应的比例尺不同。 
      * 线程数：分配给拉伸生成缓存操作的线程数，默认为4个线程参与操作，用户可自定义线程数。
      * 过滤阈值：过滤掉粗糙层较小的子对象，从而提升大场景数据的性能。 例如，过滤阈值设为2，则在最粗糙层过滤掉最长边小于2米的子对象，次粗糙层过滤掉小于1米的子对象，以此类推。最精细层子对象不过滤。
      * 拉伸高度：支持通过下拉菜单选择字段设置为拉伸字段作为拉伸高度，也支持输入数值设置面拉伸的高度值，单位为米。 
      * 底部高程：拉伸对象的底部高程值。
      * 顶点权重模式 ：提供无、数据集字段、高度和原始特征值四种方式。其中，高度是指以高度作为权重，数据集字段是指以指定字段作为权重，原始特征值是指以模型数据本身的特征值作为权重。
      * 对象字段ID ：用于设置唯一标识ID的字段，通过下拉箭头进行选择。
      * 特征值 ：只有选择数据集字段作为顶点权重模式时，该选项可用。单击右端下拉箭头指定字段。 
      * LOD层级数：对建筑模型进行分层简化，在数值框中直接设置即可。 
      * 简化：LOD层三角网是否简化，追加模式不支持简化。
      * 轮廓线：生成的模型缓存是否带有轮廓线，在web端加载可以显示建筑轮廓为四边形模式。
      * 顶点压缩：对顶点数据是否进行压缩。
  5. 分层：若不进行分层则不勾选。 
      * 层高：层高是对白膜数据进行分层的参数。
      * 层数：层数是对白膜数据进行分层的参数。若仅设置层数而不设置层高则不进行分层。
      * 起始ID字段：存放每个面对象的起始层ID的字段。
  6. 材质设置：勾选“材质设置”进行材质编辑。 
  * 顶面/侧面贴图模式：提供真实大小、重复次数两种模式。重复次数即贴图重复放置的次数。真实大小指按照指定的尺寸大小进行贴图。
      * 顶面/侧面贴图字段：通过下拉菜单选择选择包含贴图文件路径信息的字段，获取贴图文件。
      * 顶面/侧面U：当贴图模式为重复次数时，设置的数值代表贴图文件在Ｕ方向上的重复次数，单位为次；当贴图模式是真实大小时，设置的数值是贴图文件在Ｕ向的实际尺寸，单位为米。
      * 顶面/侧面V：当贴图模式为重复次数时，设置的数值代表贴图文件在Ｖ方向上的重复次数，单位为次；当贴图模式是真实大小时，设置的数值是贴图文件在Ｖ向的实际尺寸，单位为米。
  7. 设置完成后，单击“生成”按钮，执行缓存生成操作。其中 *.scp 为缓存配置文件。

### 注意事项

  1. 瓦片边长决定了缓存根节点数量：边长越大，根节点越少；相反，边长越小，根节点越多，生成缓存时间更长。根节点数量过多时，加载模型将在一定程度上变慢。
  2. 若文件处理类型为追加模式则不支持设置分层。



