---
id: BatchBuildVectorCache
title: 批量生成矢量缓存
---
### ![](../../../img/read.gif)使用说明

一次性将多个矢量数据（点或线或面）生成一份S3MB格式缓存文件，加载此矢量缓存，能够大幅度提升模型浏览性能与显示效果。

### ![](../../../img/read.gif)操作步骤

  1. 在工作空间管理器中，打开需要生成缓存的数据源。
  2. 在“ **三维数据** ”选项卡上“ **三维瓦片** ”组中“ **生成缓存** ”下拉按钮内，单击“ **矢量** 按钮”按钮，弹出“批量生成矢量缓存”对话框。
  3. 设置数据集类型：在参数设置区域内的数据集类型右侧下拉选择点或线或面。
  4. 添加数据集：单击“ **添加数据集** ”按钮，在打开的“选择”界面选择数据集。
  5. "选择"对话框界面左边区域内选择数据源，界面右边区域显示选中数据源内的所有某一类矢量数据集，单击“全选”或多选，确定添加的数据集，单击“确定”执行数据集添加操作，也可新建数据集作为添加数据集。
  6. 单击“全选”按钮，将添加的数据集全部选中。
  7. 基本设置 
      * **缓存名称** ：在“缓存名称”右侧的文本框中输入缓存名称，即缓存根目录的名称。
      * **缓存路径** ：在“缓存路径”右侧的文本框中输入缓存的输出路径，也可通过文本框后的“浏览”按钮来选择路径。
      * **S3M版本** ：支持两种S3M版本号，S3M1.0和S3M2.0。
      * **属性存储类型：** 支持两种属性存储类型，S3MD和ATTRIBUTE，提高属性文件的下载效率。其中S3MD的是以json的方式存储，ATTRIBUTE以二进制流的方式存储。
      * **瓦片边长** ：显示和设置瓦片边长的大小，单位为米。瓦片边长大小不同则对应的比例尺不同，将鼠标移至“瓦片边长”标签后的问号处，即可查看瓦片边长与比例尺、层级的对应关系。“瓦片边长”标识了缓存层相对于指定瓦片边长所对应的比例尺。
      * **对象ID字段** ：用于设置唯一标识ID的字段，通过下拉箭头进行选择。
      * **字段信息** ：用于设置生成三维切片缓存的属性字段，默认生成全部字段信息。
      * **切割瓦片** ：可用于减少每个切片的数据量。若勾选，则会根据设置的瓦片边长进行切割，数据被存放在不同的切片内；反之，则会将数据存放在数据中心点所在的切片内。默认勾选。
  8. 风格设置：矢量数据集类型不同风格设置的内容也有所不同，分为点、线、面 
      * 点风格设置：包括颜色、点大小、高度模式、底部高程、拉伸高度 
        * “颜色”用于设置点的显示颜色。单击右侧的颜色按钮，在弹出的颜色面板中选择和设置点的颜色。
        * “点大小”用于设置点的显示大小，在点大小设置的组合框中输入数值，单击 Enter（回车）键即可应用所作的设置；或单击组合框右侧上下按钮设置点大小。点大小的数值单位为：像素。
      * 线风格设置：颜色、线宽、高度模式、底部高程、拉伸高度 
        * “颜色”用于设置线的显示颜色。单击右侧的颜色按钮，即可在弹出的颜色面板中选择和设置线的颜色。
        * “线宽”用于设置线的线宽。在该标签右侧的组合框中输入数值，单击 Enter（回车）键即可应用所作的设置；也可以单击组合框右侧上下按钮设置线宽。线宽的数值单位为：像素。
      * 面风格设置：前景色、轮廓线、高度模式、底部高程、拉伸高度 
        * “前景色”用于设置面的前景色，即设置面本身的颜色。通过单击右侧的颜色按钮，在弹出的颜色面板中选择和设置填充颜色。
        * “轮廓线”用于设置轮廓线的颜色，默认为“勾选”。通过单击右侧的颜色按钮，在弹出的颜色面板中选择和设置轮廓线颜色。
      * 高度模式:设置矢量数据集类型的高度模式。包括贴地、贴对象以及绝对高度。详细信息请参考[关于高度模式](../../AdvancedLayserSetting/AboutAltitudeMode)。
      * 底部高程、拉伸高度：只有高度模式选为绝对高度时，选项可用。详细信息请参考[设置底部高程和拉伸高度](../../AdvancedLayserSetting/SettingHeight)。
  9. 设置完成后，单击“生成”按钮，执行缓存生成操作。其中 *.scp 为缓存配置文件。

### 注意事项

  1. 瓦片边长决定了缓存根节点数量：边长越大，根节点越少；相反，边长越小，根节点越多，生成缓存时间更长。根节点数量过多时，加载模型将在一定程度上变慢。



